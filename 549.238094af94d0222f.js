"use strict";(self.webpackChunkDealerPortal=self.webpackChunkDealerPortal||[]).push([[549],{1549:(v,n,s)=>{s.r(n),s.d(n,{VerifyRoutes:()=>f});var c=s(467),t=s(4438),l=s(8395),u=s(4796),h=s(9333),g=s(4798),a=s(2168);const f=[{path:"",children:[{path:"",component:(()=>{class o{constructor(r,e,i,d,m,y){this.utilityService=r,this.authService=e,this.toastify=i,this.logger=d,this.route=m,this.router=y,this.countdown=10,this.domain=this.utilityService.extractBrowserDomain()}ngOnInit(){var r=this;return(0,c.A)(function*(){yield r.extractUrl(),yield r.emailVerification()})()}emailVerification(){this.logger.info("Submitting form data to server"),this.authService.verifyEmail({uid:this.uid,token:this.token}).subscribe(e=>{this.logger.info("Email verified successfully",{message:e.message}),this.toastify.showSuccess(e.message),202===e.status_code&&this.onSuccess()},e=>{this.logger.error("Error verifying email",{error:e}),console.error("Error verifying email:",e),this.toastify.showError(e?.message||"Failed to verify email")})}onSuccess(){const r=setInterval(()=>{this.countdown--,0===this.countdown&&(clearInterval(r),this.router.navigate(["/auth/login"]))},1e3)}extractUser(r){try{const i=r.match(/\/Users\/activate\/([^\/]+)\//);return i?i[1]:null}catch(e){return console.error("Error extracting user:",e),null}}extractUrl(){try{const r=this.route.snapshot.queryParams,e=Object.keys(r)[0],i=Object.keys(r)[1];this.uid=e,this.token=i}catch(r){console.error("Error extracting user:",r)}}static{this.\u0275fac=function(e){return new(e||o)(t.rXU(l.Q),t.rXU(u.u),t.rXU(h.J),t.rXU(g.g),t.rXU(a.nX),t.rXU(a.Ix))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-verify-user"]],standalone:!0,features:[t.aNF],decls:12,vars:1,consts:[[1,"card"],[2,"border-radius","200px","height","200px","width","200px","background","#F8FAF5","margin","0 auto"],[1,"checkmark"]],template:function(e,i){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"i",2),t.EFF(3,"\u2713"),t.k0s()(),t.j41(4,"h1"),t.EFF(5,"Success"),t.k0s(),t.j41(6,"p"),t.EFF(7,"Your email has been verified Successfully;"),t.nrm(8,"br"),t.EFF(9," You will be redirected shortly!"),t.k0s(),t.j41(10,"p"),t.EFF(11),t.k0s()()),2&e&&(t.R7$(11),t.SpI("Redirecting to Login in ",i.countdown," seconds..."))},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;margin:0;background:#ebf0f5;text-align:center}h1[_ngcontent-%COMP%]{color:#88b04b;font-weight:900;font-size:40px;margin-bottom:10px}p[_ngcontent-%COMP%]{color:#404f5e;font-size:20px;margin:0}i[_ngcontent-%COMP%]{color:#9abc66;font-size:100px;line-height:200px;margin-left:-15px}.card[_ngcontent-%COMP%]{background:#fff;padding:60px;border-radius:4px;box-shadow:0 2px 3px #c8d0d8;display:inline-block;margin:0 auto}"]})}}return o})(),data:{title:"User Email Verification"}}]}]}}]);