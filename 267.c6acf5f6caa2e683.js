(self.webpackChunkDealerPortal=self.webpackChunkDealerPortal||[]).push([[267],{7405:(M,s,o)=>{"use strict";o.d(s,{a:()=>l});var e=o(4438),t=o(9417),n=o(9848),a=o(4798),i=o(2765);let l=(()=>{class c{constructor(r){this.logger=r,this.isAgreed=!1,this.isScrolledToBottom=!1,this.agreedChange=new e.bkB}onScroll(r){const d=r.target,m=Math.ceil(d.scrollTop+d.clientHeight)>=d.scrollHeight;this.isScrolledToBottom=m,this.logger.info("Scrolled to bottom:",this.isScrolledToBottom)}ngOnInit(){this.data&&this.data.step2&&(this.logger.info("ngOnInit:",this.data),this.isAgreed=this.data.step2)}ngOnChanges(r){if(r.data&&r.data.currentValue){this.logger.info("ngOnChanges:",r.data.currentValue);const d=r.data.currentValue;console.log(d),d.step2&&(this.isAgreed=d.step2,this.disableAgree=!0)}}onCheckboxChange(){this.agreedChange.emit(this.isAgreed)}static{this.\u0275fac=function(d){return new(d||c)(e.rXU(a.g))}}static{this.\u0275cmp=e.VBU({type:c,selectors:[["app-agreement"]],inputs:{data:"data"},outputs:{agreedChange:"agreedChange"},standalone:!0,features:[e.OA$,e.aNF],decls:56,vars:2,consts:[[1,""],[1,"tos",3,"scroll"],["href","https://www.scores.sebi.gov.in"],["href","https://smartodr.in"],[1,"example-margin",3,"ngModelChange","change","ngModel","disabled"]],template:function(d,m){1&d&&(e.j41(0,"div",0)(1,"div",1),e.bIt("scroll",function(f){return m.onScroll(f)}),e.j41(2,"h1"),e.EFF(3,"Terms and Conditions"),e.k0s(),e.j41(4,"p"),e.EFF(5,"1. These terms and conditions, and consent thereon are for the research services provided by the Research Analyst (RA) and RA cannot execute/carry out any trade (purchase/sell transaction) on behalf of, the client. Thus, the clients are advised not to permit RA to execute any trade on their behalf."),e.k0s(),e.j41(6,"p"),e.EFF(7,"2. The fee charged by RA to the client will be subject to the maximum of amount prescribed by SEBI/ Research Analyst Administration and Supervisory Body (RAASB) from time to time (applicable only for Individual and HUF Clients)."),e.k0s(),e.j41(8,"p")(9,"strong"),e.EFF(10,"Note:"),e.k0s()(),e.j41(11,"p"),e.EFF(12,"2.1. The current fee limit is Rs 1,51,000/- per annum per family of client for all research services of the RA."),e.k0s(),e.j41(13,"p"),e.EFF(14,"2.2. The fee limit does not include statutory charges."),e.k0s(),e.j41(15,"p"),e.EFF(16,"2.3. The fee limits do not apply to a non-individual client / accredited investor."),e.k0s(),e.j41(17,"p"),e.EFF(18,"3. RA may charge fees in advance if agreed by the client. Such advance shall not exceed the period stipulated by SEBI; presently it is one quarter. In case of pre-mature termination of the RA services by either the client or the RA, the client shall be entitled to seek refund of proportionate fees only for unexpired period."),e.k0s(),e.j41(19,"p"),e.EFF(20,"4. Fees to RA may be paid by the client through any of the specified modes like cheque online bank transfer, UPI, etc. Cash payment is not allowed. Optionally the client can make payments through Centralized Fee Collection Mechanism (CeFCoM) managed by BSE Limited (i.e. currently recognized RAASB)."),e.k0s(),e.j41(21,"p"),e.EFF(22,"5. The RA is required to abide by the applicable regulations/ circulars/ directions specified by SEBI and RAASB from time to time in relation to disclosure and mitigation of any actual or potential conflict of interest. The RA will endeavor to promptly inform the client of any conflict of interest that may affect the services being rendered to the client."),e.k0s(),e.j41(23,"p"),e.EFF(24,"6. Any assured/guaranteed/fixed returns schemes or any other schemes of similar nature are prohibited by law. No scheme of this nature shall be offered to the client by the RA."),e.k0s(),e.j41(25,"p"),e.EFF(26,"7. The RA cannot guarantee returns, profits, accuracy, or risk-free investments from the use of the RA's research services. All opinions, projections, estimates of the RA are based on the analysis of available data under certain assumptions as of the date of preparation/publication of research report."),e.k0s(),e.j41(27,"p"),e.EFF(28,"8. Any investment made based on recommendations in research reports are subject to market risks, and recommendations do not provide any assurance of returns. There is no recourse to claim any losses incurred on the investments made based on the recommendations in the research report. Any reliance placed on the research report provided by the RA shall be as per the client's own judgement and assessment of the conclusions contained in the research report."),e.k0s(),e.j41(29,"p"),e.EFF(30,"9. The SEBI registration, Enlistment with RAASB, and NISM certification do not guarantee the performance of the RA or assure any returns to the client."),e.k0s(),e.j41(31,"p"),e.EFF(32,"10. For any grievances,"),e.k0s(),e.j41(33,"p")(34,"strong"),e.EFF(35,"Step 1:"),e.k0s(),e.EFF(36," the client should first contact the RA using the details on its website or following contact details: (RA to provide details as per 'Grievance Redressal / Escalation Matrix')"),e.k0s(),e.j41(37,"p")(38,"strong"),e.EFF(39,"Step 2:"),e.k0s(),e.EFF(40," If the resolution is unsatisfactory, the client can also lodge grievances through SEBI's SCORES platform at "),e.j41(41,"a",2),e.EFF(42,"www.scores.sebi.gov.in"),e.k0s()(),e.j41(43,"p")(44,"strong"),e.EFF(45,"Step 3:"),e.k0s(),e.EFF(46," The client may also consider the Online Dispute Resolution (ODR) through the Smart ODR portal at "),e.j41(47,"a",3),e.EFF(48,"https://smartodr.in"),e.k0s()(),e.j41(49,"p"),e.EFF(50,"11. Clients are required to keep contact details, including email id and mobile number/s updated with the RA at all times."),e.k0s(),e.j41(51,"p"),e.EFF(52,"12. The RA shall never ask for the client's login credentials and OTPs for the client's Trading Account, Demat Account, and Bank Account. Never share such information with anyone including RA."),e.k0s()(),e.j41(53,"div")(54,"mat-checkbox",4),e.mxI("ngModelChange",function(f){return e.DH7(m.isAgreed,f)||(m.isAgreed=f),f}),e.bIt("change",function(){return m.onCheckboxChange()}),e.EFF(55," I Agree "),e.k0s()()()),2&d&&(e.R7$(54),e.R50("ngModel",m.isAgreed),e.Y8G("disabled",!m.isScrolledToBottom||m.disableAgree))},dependencies:[n.G,i.So,t.YN,t.BC,t.vS],styles:[".tos[_ngcontent-%COMP%]{max-height:70vh;overflow-y:auto;margin-left:auto;margin-right:auto;margin-bottom:2rem}.container[_ngcontent-%COMP%]{max-width:880px;margin-left:auto;margin-right:auto}form.privacy-policy[_ngcontent-%COMP%]{display:flex;justify-content:space-around}"]})}}return c})()},5337:(M,s,o)=>{"use strict";o.d(s,{D:()=>i});var e=o(9848),t=o(4438),n=o(2168),a=o(4912);let i=(()=>{class l{constructor(u){this.route=u}ngOnInit(){this.route.data.subscribe(u=>{this.pageMeta=u})}static{this.\u0275fac=function(r){return new(r||l)(t.rXU(n.nX))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["app-breadcrumb"]],standalone:!0,features:[t.aNF],decls:17,vars:3,consts:[[1,"bg-light-primary","rounded","p-y-30","p-x-24","m-b-30","overflow-hidden"],[1,"row"],[1,"col-sm-8"],[1,"page-title","m-0","f-s-20","f-w-600","m-b-16"],[1,"d-flex","align-items-center","overflow-hidden"],[1,"breadcrumb"],[1,"breadcrumb-item"],["name","circle-filled",1,"icon-8"],[1,"breadcrumb-item","active"],[1,"col-sm-4","text-right","position-relative"],[1,"breadcrumb-icon"],["src","/assets/images/breadcrumb/ChatBc.png","alt","breadcrumb","width","165"]],template:function(r,d){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),t.EFF(4),t.k0s(),t.j41(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a"),t.EFF(9),t.k0s()(),t.j41(10,"li",6),t.nrm(11,"i-tabler",7),t.k0s(),t.j41(12,"li",8),t.EFF(13),t.k0s()()()(),t.j41(14,"div",9)(15,"div",10),t.nrm(16,"img",11),t.k0s()()()()),2&r&&(t.R7$(4),t.JRh(d.pageMeta.title),t.R7$(5),t.JRh(d.pageMeta.parent),t.R7$(4),t.JRh(d.pageMeta.child))},dependencies:[e.G,a.Jc]})}}return l})()},9633:(M,s,o)=>{"use strict";o.d(s,{W:()=>a});var e=o(9848),t=o(4438),n=o(9853);let a=(()=>{class i{constructor(){this.animation="pulse",this.count=0,this.appearance="line"}static{this.\u0275fac=function(u){return new(u||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-skeleton-loader"]],inputs:{count:"count",appearance:"appearance"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[[1,"item"],[3,"count","appearance","animation"]],template:function(u,r){1&u&&(t.j41(0,"div",0),t.nrm(1,"ngx-skeleton-loader",1),t.k0s()),2&u&&(t.R7$(),t.Y8G("count",r.count)("appearance",r.appearance)("animation",r.animation))},dependencies:[e.G,n.Zm],styles:[".item[_ngcontent-%COMP%]{width:auto;height:auto;margin:10px auto;border:1px solid #eaeaea;padding:10px}"]})}}return i})()},6759:(M,s,o)=>{"use strict";o.d(s,{Z:()=>t,x:()=>e});const e=[{value:"andhra_pradesh",viewValue:"Andhra Pradesh"},{value:"arunachal_pradesh",viewValue:"Arunachal Pradesh"},{value:"assam",viewValue:"Assam"},{value:"bihar",viewValue:"Bihar"},{value:"chhattisgarh",viewValue:"Chhattisgarh"},{value:"goa",viewValue:"Goa"},{value:"gujarat",viewValue:"Gujarat"},{value:"haryana",viewValue:"Haryana"},{value:"himachal_pradesh",viewValue:"Himachal Pradesh"},{value:"jharkhand",viewValue:"Jharkhand"},{value:"karnataka",viewValue:"Karnataka"},{value:"kerala",viewValue:"Kerala"},{value:"madhya_pradesh",viewValue:"Madhya Pradesh"},{value:"maharashtra",viewValue:"Maharashtra"},{value:"manipur",viewValue:"Manipur"},{value:"meghalaya",viewValue:"Meghalaya"},{value:"mizoram",viewValue:"Mizoram"},{value:"nagaland",viewValue:"Nagaland"},{value:"odisha",viewValue:"Odisha"},{value:"punjab",viewValue:"Punjab"},{value:"rajasthan",viewValue:"Rajasthan"},{value:"sikkim",viewValue:"Sikkim"},{value:"tamil_nadu",viewValue:"Tamil Nadu"},{value:"telangana",viewValue:"Telangana"},{value:"tripura",viewValue:"Tripura"},{value:"uttar_pradesh",viewValue:"Uttar Pradesh"},{value:"uttarakhand",viewValue:"Uttarakhand"},{value:"west_bengal",viewValue:"West Bengal"}],t=[{value:"male",viewValue:"Male"},{value:"female",viewValue:"Female"},{value:"other",viewValue:"Other"}]},5214:(M,s,o)=>{"use strict";o.d(s,{_:()=>a});var e=o(4412),t=o(4438),n=o(7412);let a=(()=>{class i{constructor(c){this.configService=c,this.paymentMethods=[{name:"QR Code",icon:"paytm-icon",description:"Pay using Paytm",type:"qrCode"},{name:"Razorpay",icon:"razorpay-icon",description:"Pay using Razorpay",type:"razorPay"},{name:"PhonePe",icon:"phonepe-icon",description:"Pay using PhonePe",type:"phonePe"}],this.renewSubject=new e.t({}),this.upgradeSubject=new e.t({});const u=JSON.parse(localStorage.getItem("renew")||"{}");this.renewSubject=new e.t(u);const r=JSON.parse(localStorage.getItem("upgrade")||"{}");this.upgradeSubject=new e.t(r)}setRenew(c){this.renewSubject.next(c),localStorage.setItem("renew",JSON.stringify(c))}getRenew(){return this.renewSubject.asObservable()}setUpgrade(c){this.upgradeSubject.next(c),localStorage.setItem("upgrade",JSON.stringify(c))}getUpgrade(){return this.upgradeSubject.asObservable()}getAvailablePaymentMethods(){let c=this.configService.getConfig();return this.paymentMethods.filter(r=>"qrCode"===r.type?c.paymentInfo.qrCode.isEnabled:"razorPay"===r.type?c.paymentInfo.razorPay.isEnabled:"phonePe"===r.type&&c.paymentInfo.phonePe.isEnabled)}static{this.\u0275fac=function(u){return new(u||i)(t.KVO(n.L))}}static{this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})()},3961:(M,s,o)=>{"use strict";o.d(s,{e:()=>c});var e=o(4438),t=o(6722),n=o(9333),a=o(2168),i=o(4798),l=o(7412);let c=(()=>{class u{constructor(d,m,g,f,E){this.httpService=d,this.toastify=m,this.router=g,this.logger=f,this.configService=E,this.razorPayKey=null,this.paymentResponse=null,this.portalConfig=this.configService.getConfig()}initiatePayment(d){this.logger.info("[RazorPayService] Initiating payment with payload:",d),this.createOrder(d).subscribe(m=>{this.razorPayKey=m.user.info.key_id,this.logger.info("[RazorPayService] Razorpay key received:",this.razorPayKey),this.logger.info("[RazorPayService] Order created with ID:",m.user.info.checkout_data.id);const g=this.configureRazorpayOptions(m,d);this.logger.info("[RazorPayService] Razorpay options configured:",g),new Razorpay(g).open()},m=>{this.handleOrderCreationError(m)})}createOrder(d){return this.logger.info("[RazorPayService] Sending payment payload to create order:",d),this.httpService.stepperSubmission(d)}configureRazorpayOptions(d,m){return{key:d.user.info.key_id,amount:d.user.info.checkout_data.amount,currency:d.user.info.checkout_data.currency,name:m.name,description:m.package_code,image:this.portalConfig?.companyLogo?.path,order_id:d.user.info.checkout_data.id,handler:g=>this.handlePaymentSuccess(g),prefill:{name:m.name,email:m.email,contact:m.phone},theme:{color:"#3399cc"}}}handlePaymentSuccess(d){this.logger.info("[RazorPayService] Payment response received:",d),this.paymentResponse=d,this.logger.info('[RazorPayService] Navigating to payment status page with query param "rzp=true".'),this.router.navigate(["/checkout/status"],{queryParams:{rzp:!0}})}handleOrderCreationError(d){this.logger.error("[RazorPayService] Error creating payment order:",d),this.toastify.showError("Failed to create payment order. Please try again.")}static{this.\u0275fac=function(m){return new(m||u)(e.KVO(t.k),e.KVO(n.J),e.KVO(a.Ix),e.KVO(i.g),e.KVO(l.L))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()},4227:(M,s,o)=>{"use strict";o.d(s,{n:()=>g});var e=o(467),t=o(7586),a=o(7673),i=o(9437),l=o(8810),c=o(6354),u=o(4438),r=o(4798),d=o(6722),m=o(9333);let g=(()=>{class f{constructor(p,_,y){this.logger=p,this.httpService=_,this.toastify=y}prepareSubsInfo(p,_){const y=this.calculateSubscriptionDuration(p.transaction_data.subscription_start_date,p.transaction_data.subscription_end_date),h=this.buildSubscriptionInfo(p,y,_);return _?(h.planFeatures="",this.logger.info("[Subscription Data Subject] - Demo Data used:",h),(0,a.of)(h)):this.getPlanDetails(p.transaction_data.subscription_package_package_code).pipe((0,c.T)(C=>(h.planFeatures=C?.features,this.logger.info("[Subscription Data Subject] - Data fetched from API:",h),h)))}buildSubscriptionInfo(p,_,y){const h=p.transaction_data;return{packageName:h.subscription_package_package_name,packageStartDate:h.subscription_start_date,packageEndDate:h.subscription_end_date,packageAmount:h.latest_payment,packageType:h.latest_payment_type,planExpiry:_,lastPaymentDate:h.latest_payment_date,totalPayment:h.total_payment,welcomeText:this.subsText(h.subscription_package_package_name,h.subscription_start_date,h.subscription_end_date,y),totalInvestment:h.total_investment,maxOrders:h.max_order_limit,perOrderCost:h.per_order_cost,addInvestment:h.add_investment||0,stocksTrade:h.stocks_trade,indexTrade:h.index_trade,activeManualOrder:h.active_manual_orders,startVirtualAlgo:h.active_integration,startLiveAlgo:h.start_live_trading,equityTrade:h.equity_trade,dematAccount:h.brokerage_account,username:h.user_name,loginPin:h.user_password,apiKey:h.user_api_key,totp:h.user_totp,subscriptionActive:h.subscription_active,subscriptionPackageCode:h.subscription_package_package_code,brokerageAccount:h.brokerage_account,planFeatures:""}}subsText(p,_,y,h=!1){const C=new Date,A=new Date(y),D=(A.getTime()-C.getTime())/864e5;if(h)return{value:`You are currently using a demo account with the ${p} package. Upgrade to a full account to unlock all features.`,status:"demo"};const L={active:{value:`Your subscription is currently active, and your account is assigned with the ${p} package.`,status:"active"},expired:{value:"It was a pleasure serving you. We look forward to the opportunity to assist you again soon, offering insights that help you make informed and successful investment decisions.",status:"expired"},expiring:{value:`Your subscription is currently active, and your account is assigned to the ${p} package, which will expire on ${A.toDateString()}. To continue receiving timely market insights without interruption, kindly make your payment before the expiration date.`,status:"expiring"}};return D<0?L.expired:D<=10?L.expiring:L.active}getPlanDetails(p){return this.httpService.getPricingPlanById({plan_id:p}).pipe((0,c.T)(y=>this.extractPlanDetails(y,p)),(0,i.W)(y=>this.handleError("Error fetching plan details",y)))}extractPlanDetails(p,_){if(p?.plans?.length>0){const y=p.plans[0];return{planId:y.package_code_str,title:y.package_name,description:y.description,prices:y.prices,features:this.extractFeatures(y)}}throw new Error(`No plan found with the given planId: ${_}`)}extractFeatures(p){const _=[];for(let y=1;y<=10;y++){const h=`features${y}`;p.features.find(C=>C[h])?.[h]&&_.push(p.features.find(C=>C[h])?.[h])}return console.log(_),_}createCheckoutPlan(p,_){var y=this;return(0,e.A)(function*(){if(console.log(_),!p)return y.logger.error("Plan ID is required to create a checkout plan."),null;if(!_)return y.logger.error("Type is required to create a checkout plan."),null;try{y.logger.debug("Fetching plan details for checkout plan:",{planId:p,duration:_});const h=yield y.getPlanDetails(p).toPromise();return y.logger.info("Plan details fetched successfully for checkout:",h),console.log(h),h.price=h.prices[_],y.logger.info(`Selected price for duration (${_}): \u20b9${h.price}`),{selectedPlan:h,period:_}}catch(h){return y.logger.error("Error creating checkout plan:",h),null}})()}mapSubscriptionData(p){return p.map(_=>({id:_.package_code_str,title:_.package_name,description:_.description,prices:_.prices,features:this.extractFeatures(_)}))}calculateSubscriptionDuration(p,_){const y=t(p),h=t(_),C=h.diff(y,"years"),A=h.diff(y.add(C,"years"),"months"),D=h.diff(y.add(A,"months"),"days");return[C>0?`${C} year${C>1?"s":""}`:"",A>0?`${A} month${A>1?"s":""}`:"",D>0?`${D} day${D>1?"s":""}`:""].filter(Boolean).join(" ")}checkDemoUser(p){return p?.toLowerCase().includes("demo account")}handleError(p,_){return this.logger.error(p,_),this.toastify.showError(p),(0,l.$)(()=>new Error(p))}static{this.\u0275fac=function(_){return new(_||f)(u.KVO(r.g),u.KVO(d.k),u.KVO(m.J))}}static{this.\u0275prov=u.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},243:M=>{"use strict";var s={single_source_shortest_paths:function(o,e,t){var n={},a={};a[e]=0;var l,c,u,r,d,g,i=s.PriorityQueue.make();for(i.push(e,0);!i.empty();)for(u in r=(l=i.pop()).cost,d=o[c=l.value]||{})d.hasOwnProperty(u)&&(g=r+d[u],(typeof a[u]>"u"||a[u]>g)&&(a[u]=g,i.push(u,g),n[u]=c));if(typeof t<"u"&&typeof a[t]>"u"){var p=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(p)}return n},extract_shortest_path_from_predecessor_list:function(o,e){for(var t=[],n=e;n;)t.push(n),n=o[n];return t.reverse(),t},find_path:function(o,e,t){var n=s.single_source_shortest_paths(o,e,t);return s.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(o){var n,e=s.PriorityQueue,t={};for(n in o=o||{},e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t.queue=[],t.sorter=o.sorter||e.default_sorter,t},default_sorter:function(o,e){return o.cost-e.cost},push:function(o,e){this.queue.push({value:o,cost:e}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};M.exports=s},8314:(M,s,o)=>{const t=o(2836),n=o(9460),a=o(7030),i=o(6511);function l(c,u,r,d,m){const g=[].slice.call(arguments,1),f=g.length,E="function"==typeof g[f-1];if(!E&&!t())throw new Error("Callback required as last argument");if(!E){if(f<1)throw new Error("Too few arguments provided");return 1===f?(r=u,u=d=void 0):2===f&&!u.getContext&&(d=r,r=u,u=void 0),new Promise(function(p,_){try{const y=n.create(r,d);p(c(y,u,d))}catch(y){_(y)}})}if(f<2)throw new Error("Too few arguments provided");2===f?(m=r,r=u,u=d=void 0):3===f&&(u.getContext&&typeof m>"u"?(m=d,d=void 0):(m=d,d=r,r=u,u=void 0));try{const p=n.create(r,d);m(null,c(p,u,d))}catch(p){m(p)}}s.mo=l.bind(null,a.render),s.dY=l.bind(null,a.renderToDataURL),s.toString=l.bind(null,function(c,u,r){return i.render(c,r)})},2836:M=>{M.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6214:(M,s,o)=>{const e=o(9089).getSymbolSize;s.getRowColCoords=function(n){if(1===n)return[];const a=Math.floor(n/7)+2,i=e(n),l=145===i?26:2*Math.ceil((i-13)/(2*a-2)),c=[i-7];for(let u=1;u<a-1;u++)c[u]=c[u-1]-l;return c.push(6),c.reverse()},s.getPositions=function(n){const a=[],i=s.getRowColCoords(n),l=i.length;for(let c=0;c<l;c++)for(let u=0;u<l;u++)0===c&&0===u||0===c&&u===l-1||c===l-1&&0===u||a.push([i[c],i[u]]);return a}},1018:(M,s,o)=>{const e=o(1677),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(a){this.mode=e.ALPHANUMERIC,this.data=a}n.getBitsLength=function(i){return 11*Math.floor(i/2)+i%2*6},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let l;for(l=0;l+2<=this.data.length;l+=2){let c=45*t.indexOf(this.data[l]);c+=t.indexOf(this.data[l+1]),i.put(c,11)}this.data.length%2&&i.put(t.indexOf(this.data[l]),6)},M.exports=n},4662:M=>{function s(){this.buffer=[],this.length=0}s.prototype={get:function(o){const e=Math.floor(o/8);return 1==(this.buffer[e]>>>7-o%8&1)},put:function(o,e){for(let t=0;t<e;t++)this.putBit(1==(o>>>e-t-1&1))},getLengthInBits:function(){return this.length},putBit:function(o){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),o&&(this.buffer[e]|=128>>>this.length%8),this.length++}},M.exports=s},5941:M=>{function s(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}s.prototype.set=function(o,e,t,n){const a=o*this.size+e;this.data[a]=t,n&&(this.reservedBit[a]=!0)},s.prototype.get=function(o,e){return this.data[o*this.size+e]},s.prototype.xor=function(o,e,t){this.data[o*this.size+e]^=t},s.prototype.isReserved=function(o,e){return this.reservedBit[o*this.size+e]},M.exports=s},4969:(M,s,o)=>{const e=o(1677);function t(n){this.mode=e.BYTE,this.data="string"==typeof n?(new TextEncoder).encode(n):new Uint8Array(n)}t.getBitsLength=function(a){return 8*a},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let a=0,i=this.data.length;a<i;a++)n.put(this.data[a],8)},M.exports=t},3677:(M,s,o)=>{const e=o(7424),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];s.getBlocksCount=function(i,l){switch(l){case e.L:return t[4*(i-1)+0];case e.M:return t[4*(i-1)+1];case e.Q:return t[4*(i-1)+2];case e.H:return t[4*(i-1)+3];default:return}},s.getTotalCodewordsCount=function(i,l){switch(l){case e.L:return n[4*(i-1)+0];case e.M:return n[4*(i-1)+1];case e.Q:return n[4*(i-1)+2];case e.H:return n[4*(i-1)+3];default:return}}},7424:(M,s)=>{s.L={bit:1},s.M={bit:0},s.Q={bit:3},s.H={bit:2},s.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4},s.from=function(t,n){if(s.isValid(t))return t;try{return function o(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return s.L;case"m":case"medium":return s.M;case"q":case"quartile":return s.Q;case"h":case"high":return s.H;default:throw new Error("Unknown EC Level: "+e)}}(t)}catch{return n}}},6269:(M,s,o)=>{const e=o(9089).getSymbolSize;s.getPositions=function(a){const i=e(a);return[[0,0],[i-7,0],[0,i-7]]}},6254:(M,s,o)=>{const e=o(9089),a=e.getBCHDigit(1335);s.getEncodedBits=function(l,c){const u=l.bit<<3|c;let r=u<<10;for(;e.getBCHDigit(r)-a>=0;)r^=1335<<e.getBCHDigit(r)-a;return 21522^(u<<10|r)}},6686:(M,s)=>{const o=new Uint8Array(512),e=new Uint8Array(256);(function(){let n=1;for(let a=0;a<255;a++)o[a]=n,e[n]=a,n<<=1,256&n&&(n^=285);for(let a=255;a<512;a++)o[a]=o[a-255]})(),s.log=function(n){if(n<1)throw new Error("log("+n+")");return e[n]},s.exp=function(n){return o[n]},s.mul=function(n,a){return 0===n||0===a?0:o[e[n]+e[a]]}},3264:(M,s,o)=>{const e=o(1677),t=o(9089);function n(a){this.mode=e.KANJI,this.data=a}n.getBitsLength=function(i){return 13*i},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(a){let i;for(i=0;i<this.data.length;i++){let l=t.toSJIS(this.data[i]);if(l>=33088&&l<=40956)l-=33088;else{if(!(l>=57408&&l<=60351))throw new Error("Invalid SJIS character: "+this.data[i]+"\nMake sure your charset is UTF-8");l-=49472}l=192*(l>>>8&255)+(255&l),a.put(l,13)}},M.exports=n},3361:(M,s)=>{s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function e(t,n,a){switch(t){case s.Patterns.PATTERN000:return(n+a)%2==0;case s.Patterns.PATTERN001:return n%2==0;case s.Patterns.PATTERN010:return a%3==0;case s.Patterns.PATTERN011:return(n+a)%3==0;case s.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(a/3))%2==0;case s.Patterns.PATTERN101:return n*a%2+n*a%3==0;case s.Patterns.PATTERN110:return(n*a%2+n*a%3)%2==0;case s.Patterns.PATTERN111:return(n*a%3+(n+a)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}s.isValid=function(n){return null!=n&&""!==n&&!isNaN(n)&&n>=0&&n<=7},s.from=function(n){return s.isValid(n)?parseInt(n,10):void 0},s.getPenaltyN1=function(n){const a=n.size;let i=0,l=0,c=0,u=null,r=null;for(let d=0;d<a;d++){l=c=0,u=r=null;for(let m=0;m<a;m++){let g=n.get(d,m);g===u?l++:(l>=5&&(i+=l-5+3),u=g,l=1),g=n.get(m,d),g===r?c++:(c>=5&&(i+=c-5+3),r=g,c=1)}l>=5&&(i+=l-5+3),c>=5&&(i+=c-5+3)}return i},s.getPenaltyN2=function(n){const a=n.size;let i=0;for(let l=0;l<a-1;l++)for(let c=0;c<a-1;c++){const u=n.get(l,c)+n.get(l,c+1)+n.get(l+1,c)+n.get(l+1,c+1);(4===u||0===u)&&i++}return 3*i},s.getPenaltyN3=function(n){const a=n.size;let i=0,l=0,c=0;for(let u=0;u<a;u++){l=c=0;for(let r=0;r<a;r++)l=l<<1&2047|n.get(u,r),r>=10&&(1488===l||93===l)&&i++,c=c<<1&2047|n.get(r,u),r>=10&&(1488===c||93===c)&&i++}return 40*i},s.getPenaltyN4=function(n){let a=0;const i=n.data.length;for(let c=0;c<i;c++)a+=n.data[c];return 10*Math.abs(Math.ceil(100*a/i/5)-10)},s.applyMask=function(n,a){const i=a.size;for(let l=0;l<i;l++)for(let c=0;c<i;c++)a.isReserved(c,l)||a.xor(c,l,e(n,c,l))},s.getBestMask=function(n,a){const i=Object.keys(s.Patterns).length;let l=0,c=1/0;for(let u=0;u<i;u++){a(u),s.applyMask(u,n);const r=s.getPenaltyN1(n)+s.getPenaltyN2(n)+s.getPenaltyN3(n)+s.getPenaltyN4(n);s.applyMask(u,n),r<c&&(c=r,l=u)}return l}},1677:(M,s,o)=>{const e=o(377),t=o(9359);s.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},s.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},s.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},s.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},s.MIXED={bit:-1},s.getCharCountIndicator=function(i,l){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?i.ccBits[0]:l<27?i.ccBits[1]:i.ccBits[2]},s.getBestModeForData=function(i){return t.testNumeric(i)?s.NUMERIC:t.testAlphanumeric(i)?s.ALPHANUMERIC:t.testKanji(i)?s.KANJI:s.BYTE},s.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},s.isValid=function(i){return i&&i.bit&&i.ccBits},s.from=function(i,l){if(s.isValid(i))return i;try{return function n(a){if("string"!=typeof a)throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return s.NUMERIC;case"alphanumeric":return s.ALPHANUMERIC;case"kanji":return s.KANJI;case"byte":return s.BYTE;default:throw new Error("Unknown mode: "+a)}}(i)}catch{return l}}},6628:(M,s,o)=>{const e=o(1677);function t(n){this.mode=e.NUMERIC,this.data=n.toString()}t.getBitsLength=function(a){return 10*Math.floor(a/3)+(a%3?a%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(a){let i,l,c;for(i=0;i+3<=this.data.length;i+=3)l=this.data.substr(i,3),c=parseInt(l,10),a.put(c,10);const u=this.data.length-i;u>0&&(l=this.data.substr(i),c=parseInt(l,10),a.put(c,3*u+1))},M.exports=t},1744:(M,s,o)=>{const e=o(6686);s.mul=function(n,a){const i=new Uint8Array(n.length+a.length-1);for(let l=0;l<n.length;l++)for(let c=0;c<a.length;c++)i[l+c]^=e.mul(n[l],a[c]);return i},s.mod=function(n,a){let i=new Uint8Array(n);for(;i.length-a.length>=0;){const l=i[0];for(let u=0;u<a.length;u++)i[u]^=e.mul(a[u],l);let c=0;for(;c<i.length&&0===i[c];)c++;i=i.slice(c)}return i},s.generateECPolynomial=function(n){let a=new Uint8Array([1]);for(let i=0;i<n;i++)a=s.mul(a,new Uint8Array([1,e.exp(i)]));return a}},9460:(M,s,o)=>{const e=o(9089),t=o(7424),n=o(4662),a=o(5941),i=o(6214),l=o(6269),c=o(3361),u=o(3677),r=o(6289),d=o(1252),m=o(6254),g=o(1677),f=o(2868);function h(v,T,P){const w=v.size,I=m.getEncodedBits(T,P);let R,b;for(R=0;R<15;R++)b=1==(I>>R&1),v.set(R<6?R:R<8?R+1:w-15+R,8,b,!0),v.set(8,R<8?w-R-1:R<9?15-R-1+1:15-R-1,b,!0);v.set(w-8,8,1,!0)}function L(v,T,P,w){let I;if(Array.isArray(v))I=f.fromArray(v);else{if("string"!=typeof v)throw new Error("Invalid data");{let F=T;if(!F){const N=f.rawSplit(v);F=d.getBestVersionForData(N,P)}I=f.fromString(v,F||40)}}const R=d.getBestVersionForData(I,P);if(!R)throw new Error("The amount of data is too big to be stored in a QR Code");if(T){if(T<R)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+R+".\n")}else T=R;const b=function A(v,T,P){const w=new n;P.forEach(function(B){w.put(B.mode.bit,4),w.put(B.getLength(),g.getCharCountIndicator(B.mode,v)),B.write(w)});const b=8*(e.getSymbolTotalCodewords(v)-u.getTotalCodewordsCount(v,T));for(w.getLengthInBits()+4<=b&&w.put(0,4);w.getLengthInBits()%8!=0;)w.putBit(0);const S=(b-w.getLengthInBits())/8;for(let B=0;B<S;B++)w.put(B%2?17:236,8);return function D(v,T,P){const w=e.getSymbolTotalCodewords(T),R=w-u.getTotalCodewordsCount(T,P),b=u.getBlocksCount(T,P),B=b-w%b,F=Math.floor(w/b),N=Math.floor(R/b),G=N+1,W=F-N,$=new r(W);let K=0;const V=new Array(b),x=new Array(b);let j=0;const Y=new Uint8Array(v.buffer);for(let U=0;U<b;U++){const H=U<B?N:G;V[U]=Y.slice(K,K+H),x[U]=$.encode(V[U]),K+=H,j=Math.max(j,H)}const z=new Uint8Array(w);let O,k,J=0;for(O=0;O<j;O++)for(k=0;k<b;k++)O<V[k].length&&(z[J++]=V[k][O]);for(O=0;O<W;O++)for(k=0;k<b;k++)z[J++]=x[k][O];return z}(w,v,T)}(T,P,I),S=e.getSymbolSize(T),B=new a(S);return function E(v,T){const P=v.size,w=l.getPositions(T);for(let I=0;I<w.length;I++){const R=w[I][0],b=w[I][1];for(let S=-1;S<=7;S++)if(!(R+S<=-1||P<=R+S))for(let B=-1;B<=7;B++)b+B<=-1||P<=b+B||v.set(R+S,b+B,S>=0&&S<=6&&(0===B||6===B)||B>=0&&B<=6&&(0===S||6===S)||S>=2&&S<=4&&B>=2&&B<=4,!0)}}(B,T),function p(v){const T=v.size;for(let P=8;P<T-8;P++){const w=P%2==0;v.set(P,6,w,!0),v.set(6,P,w,!0)}}(B),function _(v,T){const P=i.getPositions(T);for(let w=0;w<P.length;w++){const I=P[w][0],R=P[w][1];for(let b=-2;b<=2;b++)for(let S=-2;S<=2;S++)v.set(I+b,R+S,-2===b||2===b||-2===S||2===S||0===b&&0===S,!0)}}(B,T),h(B,P,0),T>=7&&function y(v,T){const P=v.size,w=d.getEncodedBits(T);let I,R,b;for(let S=0;S<18;S++)I=Math.floor(S/3),R=S%3+P-8-3,b=1==(w>>S&1),v.set(I,R,b,!0),v.set(R,I,b,!0)}(B,T),function C(v,T){const P=v.size;let w=-1,I=P-1,R=7,b=0;for(let S=P-1;S>0;S-=2)for(6===S&&S--;;){for(let B=0;B<2;B++)if(!v.isReserved(I,S-B)){let F=!1;b<T.length&&(F=1==(T[b]>>>R&1)),v.set(I,S-B,F),R--,-1===R&&(b++,R=7)}if(I+=w,I<0||P<=I){I-=w,w=-w;break}}}(B,b),isNaN(w)&&(w=c.getBestMask(B,h.bind(null,B,P))),c.applyMask(w,B),h(B,P,w),{modules:B,version:T,errorCorrectionLevel:P,maskPattern:w,segments:I}}s.create=function(T,P){if(typeof T>"u"||""===T)throw new Error("No input text");let I,R,w=t.M;return typeof P<"u"&&(w=t.from(P.errorCorrectionLevel,t.M),I=d.from(P.version),R=c.from(P.maskPattern),P.toSJISFunc&&e.setToSJISFunction(P.toSJISFunc)),L(T,I,w,R)}},6289:(M,s,o)=>{const e=o(1744);function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}t.prototype.initialize=function(a){this.degree=a,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(a){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(a.length+this.degree);i.set(a);const l=e.mod(i,this.genPoly),c=this.degree-l.length;if(c>0){const u=new Uint8Array(this.degree);return u.set(l,c),u}return l},M.exports=t},9359:(M,s)=>{const o="[0-9]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+")(?:.|[\r\n]))+";s.KANJI=new RegExp(t,"g"),s.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),s.BYTE=new RegExp(n,"g"),s.NUMERIC=new RegExp(o,"g"),s.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const a=new RegExp("^"+t+"$"),i=new RegExp("^"+o+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");s.testKanji=function(u){return a.test(u)},s.testNumeric=function(u){return i.test(u)},s.testAlphanumeric=function(u){return l.test(u)}},2868:(M,s,o)=>{const e=o(1677),t=o(6628),n=o(1018),a=o(4969),i=o(3264),l=o(9359),c=o(9089),u=o(243);function r(y){return unescape(encodeURIComponent(y)).length}function d(y,h,C){const A=[];let D;for(;null!==(D=y.exec(C));)A.push({data:D[0],index:D.index,mode:h,length:D[0].length});return A}function m(y){const h=d(l.NUMERIC,e.NUMERIC,y),C=d(l.ALPHANUMERIC,e.ALPHANUMERIC,y);let A,D;return c.isKanjiModeEnabled()?(A=d(l.BYTE,e.BYTE,y),D=d(l.KANJI,e.KANJI,y)):(A=d(l.BYTE_KANJI,e.BYTE,y),D=[]),h.concat(C,A,D).sort(function(v,T){return v.index-T.index}).map(function(v){return{data:v.data,mode:v.mode,length:v.length}})}function g(y,h){switch(h){case e.NUMERIC:return t.getBitsLength(y);case e.ALPHANUMERIC:return n.getBitsLength(y);case e.KANJI:return i.getBitsLength(y);case e.BYTE:return a.getBitsLength(y)}}function _(y,h){let C;const A=e.getBestModeForData(y);if(C=e.from(h,A),C!==e.BYTE&&C.bit<A.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(C)+".\n Suggested mode is: "+e.toString(A));switch(C===e.KANJI&&!c.isKanjiModeEnabled()&&(C=e.BYTE),C){case e.NUMERIC:return new t(y);case e.ALPHANUMERIC:return new n(y);case e.KANJI:return new i(y);case e.BYTE:return new a(y)}}s.fromArray=function(h){return h.reduce(function(C,A){return"string"==typeof A?C.push(_(A,null)):A.data&&C.push(_(A.data,A.mode)),C},[])},s.fromString=function(h,C){const D=function E(y){const h=[];for(let C=0;C<y.length;C++){const A=y[C];switch(A.mode){case e.NUMERIC:h.push([A,{data:A.data,mode:e.ALPHANUMERIC,length:A.length},{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.ALPHANUMERIC:h.push([A,{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.KANJI:h.push([A,{data:A.data,mode:e.BYTE,length:r(A.data)}]);break;case e.BYTE:h.push([{data:A.data,mode:e.BYTE,length:r(A.data)}])}}return h}(m(h,c.isKanjiModeEnabled())),L=function p(y,h){const C={},A={start:{}};let D=["start"];for(let L=0;L<y.length;L++){const v=y[L],T=[];for(let P=0;P<v.length;P++){const w=v[P],I=""+L+P;T.push(I),C[I]={node:w,lastCount:0},A[I]={};for(let R=0;R<D.length;R++){const b=D[R];C[b]&&C[b].node.mode===w.mode?(A[b][I]=g(C[b].lastCount+w.length,w.mode)-g(C[b].lastCount,w.mode),C[b].lastCount+=w.length):(C[b]&&(C[b].lastCount=w.length),A[b][I]=g(w.length,w.mode)+4+e.getCharCountIndicator(w.mode,h))}}D=T}for(let L=0;L<D.length;L++)A[D[L]].end=0;return{map:A,table:C}}(D,C),v=u.find_path(L.map,"start","end"),T=[];for(let P=1;P<v.length-1;P++)T.push(L.table[v[P]].node);return s.fromArray(function f(y){return y.reduce(function(h,C){const A=h.length-1>=0?h[h.length-1]:null;return A&&A.mode===C.mode?(h[h.length-1].data+=C.data,h):(h.push(C),h)},[])}(T))},s.rawSplit=function(h){return s.fromArray(m(h,c.isKanjiModeEnabled()))}},9089:(M,s)=>{let o;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];s.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return 4*n+17},s.getSymbolTotalCodewords=function(n){return e[n]},s.getBCHDigit=function(t){let n=0;for(;0!==t;)n++,t>>>=1;return n},s.setToSJISFunction=function(n){if("function"!=typeof n)throw new Error('"toSJISFunc" is not a valid function.');o=n},s.isKanjiModeEnabled=function(){return typeof o<"u"},s.toSJIS=function(n){return o(n)}},377:(M,s)=>{s.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},1252:(M,s,o)=>{const e=o(9089),t=o(3677),n=o(7424),a=o(1677),i=o(377),c=e.getBCHDigit(7973);function r(g,f){return a.getCharCountIndicator(g,f)+4}function d(g,f){let E=0;return g.forEach(function(p){const _=r(p.mode,f);E+=_+p.getBitsLength()}),E}s.from=function(f,E){return i.isValid(f)?parseInt(f,10):E},s.getCapacity=function(f,E,p){if(!i.isValid(f))throw new Error("Invalid QR Code version");typeof p>"u"&&(p=a.BYTE);const h=8*(e.getSymbolTotalCodewords(f)-t.getTotalCodewordsCount(f,E));if(p===a.MIXED)return h;const C=h-r(p,f);switch(p){case a.NUMERIC:return Math.floor(C/10*3);case a.ALPHANUMERIC:return Math.floor(C/11*2);case a.KANJI:return Math.floor(C/13);default:return Math.floor(C/8)}},s.getBestVersionForData=function(f,E){let p;const _=n.from(E,n.M);if(Array.isArray(f)){if(f.length>1)return function m(g,f){for(let E=1;E<=40;E++)if(d(g,E)<=s.getCapacity(E,f,a.MIXED))return E}(f,_);if(0===f.length)return 1;p=f[0]}else p=f;return function u(g,f,E){for(let p=1;p<=40;p++)if(f<=s.getCapacity(p,E,g))return p}(p.mode,p.getLength(),_)},s.getEncodedBits=function(f){if(!i.isValid(f)||f<7)throw new Error("Invalid QR Code version");let E=f<<12;for(;e.getBCHDigit(E)-c>=0;)E^=7973<<e.getBCHDigit(E)-c;return f<<12|E}},7030:(M,s,o)=>{const e=o(7077);s.render=function(i,l,c){let u=c,r=l;typeof u>"u"&&(!l||!l.getContext)&&(u=l,l=void 0),l||(r=function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),u=e.getOptions(u);const d=e.getImageWidth(i.modules.size,u),m=r.getContext("2d"),g=m.createImageData(d,d);return e.qrToImageData(g.data,i,u),function t(a,i,l){a.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=l,i.width=l,i.style.height=l+"px",i.style.width=l+"px"}(m,r,d),m.putImageData(g,0,0),r},s.renderToDataURL=function(i,l,c){let u=c;return typeof u>"u"&&(!l||!l.getContext)&&(u=l,l=void 0),u||(u={}),s.render(i,l,u).toDataURL(u.type||"image/png",(u.rendererOpts||{}).quality)}},6511:(M,s,o)=>{const e=o(7077);function t(i,l){const c=i.a/255,u=l+'="'+i.hex+'"';return c<1?u+" "+l+'-opacity="'+c.toFixed(2).slice(1)+'"':u}function n(i,l,c){let u=i+l;return typeof c<"u"&&(u+=" "+c),u}s.render=function(l,c,u){const r=e.getOptions(c),d=l.modules.size,m=l.modules.data,g=d+2*r.margin,f=r.color.light.a?"<path "+t(r.color.light,"fill")+' d="M0 0h'+g+"v"+g+'H0z"/>':"",E="<path "+t(r.color.dark,"stroke")+' d="'+function a(i,l,c){let u="",r=0,d=!1,m=0;for(let g=0;g<i.length;g++){const f=Math.floor(g%l),E=Math.floor(g/l);!f&&!d&&(d=!0),i[g]?(m++,g>0&&f>0&&i[g-1]||(u+=d?n("M",f+c,.5+E+c):n("m",r,0),r=0,d=!1),f+1<l&&i[g+1]||(u+=n("h",m),m=0)):r++}return u}(m,d,r.margin)+'"/>',y='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+'viewBox="0 0 '+g+" "+g+'" shape-rendering="crispEdges">'+f+E+"</svg>\n";return"function"==typeof u&&u(null,y),y}},7077:(M,s)=>{function o(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map(function(a){return[a,a]}))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}s.getOptions=function(t){t||(t={}),t.color||(t.color={});const a=t.width&&t.width>=21?t.width:void 0;return{width:a,scale:a?4:t.scale||4,margin:typeof t.margin>"u"||null===t.margin||t.margin<0?4:t.margin,color:{dark:o(t.color.dark||"#000000ff"),light:o(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},s.getScale=function(t,n){return n.width&&n.width>=t+2*n.margin?n.width/(t+2*n.margin):n.scale},s.getImageWidth=function(t,n){const a=s.getScale(t,n);return Math.floor((t+2*n.margin)*a)},s.qrToImageData=function(t,n,a){const i=n.modules.size,l=n.modules.data,c=s.getScale(i,a),u=Math.floor((i+2*a.margin)*c),r=a.margin*c,d=[a.color.light,a.color.dark];for(let m=0;m<u;m++)for(let g=0;g<u;g++){let f=4*(m*u+g),E=a.color.light;m>=r&&g>=r&&m<u-r&&g<u-r&&(E=d[l[Math.floor((m-r)/c)*i+Math.floor((g-r)/c)]?1:0]),t[f++]=E.r,t[f++]=E.g,t[f++]=E.b,t[f]=E.a}}},5398:(M,s,o)=>{"use strict";o.d(s,{c:()=>l});var e=o(467),t=o(4438),n=o(8314),a=o(345);const i=["qrcElement"];let l=(()=>{class c{constructor(r,d){this.renderer=r,this.sanitizer=d,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new t.bkB,this.context=null}ngOnChanges(){var r=this;return(0,e.A)(function*(){yield r.createQRCode()})()}isValidQrCodeText(r){return!1===this.allowEmptyString?!(typeof r>"u"||""===r||"null"===r||null===r):!(typeof r>"u")}toDataURL(r){return new Promise((d,m)=>{(0,n.dY)(this.qrdata,r,(g,f)=>{g?m(g):d(f)})})}toCanvas(r,d){return new Promise((m,g)=>{(0,n.mo)(r,this.qrdata,d,f=>{f?g(f):m("success")})})}toSVG(r){return new Promise((d,m)=>{(0,n.toString)(this.qrdata,r,(g,f)=>{g?m(g):d(f)})})}renderElement(r){for(const d of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,d);this.renderer.appendChild(this.qrcElement.nativeElement,r)}createQRCode(){var r=this;return(0,e.A)(function*(){r.version&&r.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),r.version=40):r.version&&r.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),r.version=1):void 0!==r.version&&isNaN(r.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),r.version=void 0);try{if(!r.isValidQrCodeText(r.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");r.isValidQrCodeText(r.qrdata)&&""===r.qrdata&&(r.qrdata=" ");const d={color:{dark:r.colorDark,light:r.colorLight},errorCorrectionLevel:r.errorCorrectionLevel,margin:r.margin,scale:r.scale,version:r.version,width:r.width},m=r.imageSrc,g=r.imageHeight||40,f=r.imageWidth||40;switch(r.elementType){case"canvas":{const E=r.renderer.createElement("canvas");r.context=E.getContext("2d"),r.toCanvas(E,d).then(()=>{if(r.ariaLabel&&r.renderer.setAttribute(E,"aria-label",`${r.ariaLabel}`),r.title&&r.renderer.setAttribute(E,"title",`${r.title}`),m&&r.context){r.centerImage=new Image(f,g),m!==r.centerImage.src&&(r.centerImage.crossOrigin="anonymous",r.centerImage.src=m),g!==r.centerImage.height&&(r.centerImage.height=g),f!==r.centerImage.width&&(r.centerImage.width=f);const p=r.centerImage;p&&(p.onload=()=>{r.context?.drawImage(p,E.width/2-f/2,E.height/2-g/2,f,g)})}r.renderElement(E),r.emitQRCodeURL(E)}).catch(p=>{console.error("[angularx-qrcode] canvas error:",p)});break}case"svg":{const E=r.renderer.createElement("div");r.toSVG(d).then(p=>{r.renderer.setProperty(E,"innerHTML",p);const _=E.firstChild;r.renderer.setAttribute(_,"height",`${r.width}`),r.renderer.setAttribute(_,"width",`${r.width}`),r.renderElement(_),r.emitQRCodeURL(_)}).catch(p=>{console.error("[angularx-qrcode] svg error:",p)});break}default:{const E=r.renderer.createElement("img");r.toDataURL(d).then(p=>{r.alt&&E.setAttribute("alt",r.alt),r.ariaLabel&&E.setAttribute("aria-label",r.ariaLabel),E.setAttribute("src",p),r.title&&E.setAttribute("title",r.title),r.renderElement(E),r.emitQRCodeURL(E)}).catch(p=>{console.error("[angularx-qrcode] img/url error:",p)})}}}catch(d){console.error("[angularx-qrcode] Error generating QR Code:",d.message)}})()}convertBase64ImageUrlToBlob(r){const d=r.split(";base64,"),m=d[0].split(":")[1],g=atob(d[1]),f=new Uint8Array(g.length);for(let E=0;E<g.length;++E)f[E]=g.charCodeAt(E);return new Blob([f],{type:m})}emitQRCodeURL(r){const d=r.constructor.name;if(d===SVGSVGElement.name){const _=new Blob([r.outerHTML],{type:"image/svg+xml"}),y=URL.createObjectURL(_),h=this.sanitizer.bypassSecurityTrustUrl(y);return void this.qrCodeURL.emit(h)}let m="";d===HTMLCanvasElement.name&&(m=r.toDataURL("image/png")),d===HTMLImageElement.name&&(m=r.src);const g=this.convertBase64ImageUrlToBlob(m),f=URL.createObjectURL(g),E=this.sanitizer.bypassSecurityTrustUrl(f);this.qrCodeURL.emit(E)}static{this.\u0275fac=function(d){return new(d||c)(t.rXU(t.sFG),t.rXU(a.up))}}static{this.\u0275cmp=t.VBU({type:c,selectors:[["qrcode"]],viewQuery:function(d,m){if(1&d&&t.GBs(i,7),2&d){let g;t.mGM(g=t.lsd())&&(m.qrcElement=g.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:2,consts:[["qrcElement",""]],template:function(d,m){1&d&&t.nrm(0,"div",null,0),2&d&&t.HbH(m.cssClass)},encapsulation:2,changeDetection:0})}}return c})()}}]);